{"version":3,"sources":["api/api.js","Redux/Dialogs-reduser.js","components/common/preloader/Preloader.module.css","assets/images/loading.svg","components/Profile/Profile.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","utils/objectsHelper.js","Redux/Users-reducer.js","components/common/paginator/Paginator.jsx","components/Users/Users.jsx","Redux/selectors/usersSelector.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/Auth-reducer.js","components/Header/HeaderContainer.jsx","components/login/login.jsx","Redux/app-reducer.js","App.js","Redux/Sidebar-Reduser.js","Redux/redux-store.js","index.js","components/common/FormControls/formControls.js","components/Header/Header.module.css","components/common/preloader/preloader.jsx","assets/images/userPhoto.png","utils/validators/validators.js","components/login/login.module.css","components/Navbar/Friends/Friends.module.css","components/Users/users.module.css","components/common/paginator/paginator.module.css","components/common/FormControls/formControls.module.css","hoc/withAuthRedirect.js","Redux/Profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","setUsers","currentPage","pageSize","get","then","response","data","setUnfollow","userId","delete","setFollow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","authPhoto","login","email","password","rememberMe","logout","SEND_MASSAGE","initialState","dialogs","id","name","src","massages","massage","sendMassageCreator","dialogsMassege","type","dialogsReduser","state","action","body","module","exports","Boolean","window","location","hostname","match","Navbar","props","className","s","nav","item","to","activeClassName","active","href","friendsTitle","friends","updateObjectInArray","items","itemId","objPropName","newObjProps","map","el","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","users","totalUsersCount","isFetching","followingInProgress","follow","unfollow","setCurrentPage","toggleIsfetching","toggleIsFollowinfProgress","isProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReduser","followed","filter","Paginator","totalItemsCount","onPageCganged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","serPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","pageSelectControl","onClick","p","selectedPage","Users","u","key","user","photos","small","userPhoto","disabled","some","getUsers","usersPage","getPageSze","createSelector","getTotalUserCount","getCurrentPage","getIsFetching","getFollowwingInProgress","UsersContainer","pageNumber","requestUsers","render","this","React","Component","compose","withAuthRedirect","connect","totalCount","bind","Header","header","loginBlock","isAuth","usPhoto","SET_USER_DATA","SET_USER_PHOTO","setAuthUserData","setAuth","forEach","large","photo","authReduser","HeaderContainer","auth","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","requireField","summeryError","stopSubmit","_error","loginTitle","log","initialized","appReduser","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","fallback","withRouter","app","sidebarReduser","redusers","combineReducers","profilePage","profileReduser","massagesPage","sidebar","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message","FormContol","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","placeholder","component","validate","text","Preloader","preloader","value","maxLength","length","mapStateToPropsForRedirect","Compnent","RedirectComponent","ADD_POST","SET_USER_PROFILE","SET_AVATAR_ISFETCHING","SET_STATUS","SET_PHOTO_SUCCES","posts","likeCount","profile","avatarIsFetching","profileStatus","addPostActionCreater","postValue","setAvatarIsFetching","setStatus","getUserProfile","usId","getUserStatus","updateUserStatus","saveAvaPhoto","file"],"mappings":"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","file":"static/js/main.0632ab67.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({ \r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'cd27ce18-89dc-42b3-ba44-10bd8b8a6d99'\r\n    }    \r\n});\r\n\r\nexport const usersAPI = {\r\n    setUsers (currentPage = 1, pageSize = 100) {  //присвоение 1 и 10 к параметрам функции - это параметры по умолчанию если в функцию ниего не прийдет\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`) //Базовый урл сам добавляется, так как сидит в инстансе\r\n        .then(response => {\r\n                return response.data;   //после ответа сервака, функция возвращает дата, которая сидит в респонсе(урок 63)\r\n            });\r\n    }, \r\n    setUnfollow (userId) {\r\n        return instance.delete(`follow/${userId}`);    \r\n    },\r\n    setFollow (userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    getProfile (userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object')\r\n        return profileAPI.getProfile(userId);\r\n    }     \r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return instance.get('profile/'+userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('profile/status/'+userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status/', {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();    //Юзаем это при отпраке фоток на сервак \r\n        formData.append('image', photoFile);\r\n        return instance.put('profile/photo/', formData, {\r\n            headers: {\r\n                'Content-Type':'multipart/form-data' \r\n            }\r\n        });\r\n    }     \r\n}\r\n\r\nexport const authAPI = {\r\n    me () {\r\n        return instance.get('auth/me');\r\n    },\r\n    authPhoto () {\r\n        return instance.get('users?page=1&count=100');\r\n    },\r\n    login (email, password, rememberMe = false) {   //Lesson 78\r\n        return instance.post('auth/login', {email, password, rememberMe});\r\n    },\r\n    logout () { //Lesson 78\r\n        return instance.delete('auth/login');\r\n    }\r\n}\r\n\r\n","const SEND_MASSAGE = 'it-social/massagesPage/SEND-MASSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Dima',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTC4jRg1btnvqAdcADoMgIw6RyQIXMOpZw-kg&usqp=CAU'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Valera',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTfNHQ78zty5ZpAoBPBARyRvoPOhIgXXch0yg&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Vika',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcReKSYqrPw2eL826Nc3rYdTgl5-_pb7UdUwBw&usqp=CAU'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Nata',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT5NEaXwrzHIqv3GXVWIuRKwtLXk6IRlW2AyA&usqp=CAU'\r\n        }\r\n    ],\r\n    massages: [\r\n        {id: 1, massage: 'Hi'},\r\n        {id: 2, massage: 'How are you'},\r\n        {id: 3, massage: 'yooyoyoyoy'},\r\n        {id: 4, massage: 'Nata, I Love you'}\r\n    ]\r\n};\r\n\r\nconst dialogsReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MASSAGE:\r\n            let body = action.dialogsMassege;\r\n            return {\r\n                ...state,\r\n                massages: [...state.massages, {id: 5, massage: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMassageCreator = (dialogsMassege) => {\r\n    return {type: SEND_MASSAGE, dialogsMassege};\r\n}\r\n\r\nexport default dialogsReduser;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__22jQJ\"};","module.exports = __webpack_public_path__ + \"static/media/loading.ef19692c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__29ZR8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Gx5i\",\"item\":\"Navbar_item__12n2J\",\"active\":\"Navbar_active__3p6qL\",\"friendsTitle\":\"Navbar_friendsTitle__2f-na\",\"friends\":\"Navbar_friends__2Vz_X\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nconst Navbar = (props) => {\r\n\r\n    //let friend = props.friends.map( friend => <Friends name={friend.name} id={friend.id} src={friend.src}/>);\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className = {s.item}>\r\n                <NavLink to='/Profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className = {s.item}>\r\n                <NavLink to='/Dialogs' activeClassName={s.active}>Masseges</NavLink>\r\n            </div>\r\n            <div className = {s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className = {s.item}>\r\n                <NavLink to='#'>News</NavLink>\r\n            </div>\r\n            <div className = {s.item}>\r\n                <a href='#'>News</a>\r\n            </div>\r\n            <h1 className={s.friendsTitle}>Friends</h1>\r\n            <div className={s.friends}>\r\n                {/*{friend}*/}\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","export let updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( el => {\r\n        if(el[objPropName] === itemId) {\r\n            return {...el, ...newObjProps};\r\n        }\r\n        return el;\r\n    })\r\n}\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/objectsHelper\";\r\n\r\nconst FOLLOW = 'it-social/usersPage/FOLLOW';\r\nconst UNFOLLOW = 'it-social/usersPage/UNFOLLOW';\r\nconst SET_USERS = 'it-social/usersPage/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'it-social/usersPage/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'it-social/usersPage/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'it-social/usersPage/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'it-social/usersPage/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return{...state, totalUsersCount: action.totalUsersCount}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {...state, followingInProgress: action.isProgress    //  если в экшене пришло true, то добавляем в массив id, в противном случае удаляем из массива\r\n                ? [...state.followingInProgress, action.userId] \r\n                : state.followingInProgress.filter(item=> item != action.userId)\r\n            } \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n    //Action Creators\r\nexport const follow = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsfetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowinfProgress = (isProgress, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isProgress, userId});\r\n\r\n    //Thunks (урок 65,66,67)\r\n\r\nexport const requestUsers = (currentPage,pageSize) => { //принимает параметры и возвращает санку, в параметры\r\n    //передаются то, что передантся из юай, и функции, которые диспатчатся в санках, получают\r\n    //доступ к этим данным через замыкание,  остальное диспатчится в санке \r\n    return async (dispatch) => {    \r\n        dispatch(toggleIsfetching(true));\r\n        let data = await usersAPI.setUsers(currentPage, pageSize)\r\n        dispatch(toggleIsfetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(setCurrentPage(currentPage))   //data приходит из api из промиса, после того как прийдет ответ с срвака \r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowinfProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleIsFollowinfProgress(false, userId));\r\n}\r\n\r\nexport const setFollow = (userId) => { \r\n    return (dispatch) => {    \r\n        followUnfollowFlow(dispatch, userId, usersAPI.setFollow.bind(usersAPI), follow);\r\n    }\r\n}\r\n\r\nexport const setUnfollow = (userId) => { \r\n    return async (dispatch) => {    \r\n        followUnfollowFlow(dispatch, userId, usersAPI.setUnfollow.bind(userId), unfollow);\r\n    }\r\n}\r\n\r\nexport default usersReduser;","import React, { useEffect, useState } from 'react';\r\nimport style from './paginator.module.css';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageCganged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, serPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber-1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize; \r\n\r\n    return (\r\n        <div className={style.pageSelectControl}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {serPortionNumber(portionNumber-1)}} >Prev</button>}\r\n\r\n            {pages.filter((p) => p>=leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={currentPage === p && style.selectedPage}\r\n                        onClick={() => {\r\n                            onPageCganged(p)\r\n                        }}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber && \r\n                <button onClick={() => {serPortionNumber(portionNumber+1)}}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport style from './users.module.css';\r\nimport userPhoto from '../../assets/images/userPhoto.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from '../common/paginator/Paginator';\r\nimport Preloader from '../common/preloader/preloader';\r\n\r\nconst Users = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} \r\n                currentPage={props.currentPage} onPageCganged={props.onPageCganged} /> \r\n            {props.isFetching ? <Preloader /> :    \r\n            props.users.map(u =>\r\n            <div key={u.id} className={style.user}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto}\r\n                                 className={style.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                         {u.followed\r\n                        ? <button disabled={props.followingInProgress.some(item=> item==u.id)} onClick={() => {//кнопка дизейблится, \r\n                            //в ней значение true, сейчас там условие: если хоть один элемент массива = айди юзера, то true\r\n                            props.setUnfollow(u.id);\r\n                        }}>Follow</button>\r\n                        : <button disabled={props.followingInProgress.some(item=> item==u.id)} onClick={() => { //кнопка дизейблится, \r\n                            //в ней значение true, сейчас там условие: если хоть один элемент массива = айди юзера, то true\r\n                            props.setFollow(u.id);\r\n                            }}>Unfollow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>{u.name}</div>\r\n                    <div>{u.status}</div>\r\n                </span>\r\n            </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\n//К простым селекторам не нужно подключать библиотеку reselect\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\n//Пример селектора, созданного с помощью библеотеки reselect (Lesson 83)\r\n//Нужен для создания сложных селекторов которые , например фильтруют массив.\r\n//А фильтрация создает новый массив, поэтому в mapStateToProps прийдет новый объект и вызовет ненужную перересовку\r\n//mapStateToProps вызывается всегда, независимо в какой ветке в стэйте что то изменилось\r\n//А перересовку вызывается то что приходит в компонент через пропсы. \r\n//Фильтр массива вернет новый объект и даже если в массиве ничего не поменяется компонент перересуется\r\n//Этот селектор принимает зависимости и только при их изменении вызывается\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n    return users.filter((u) => true);\r\n}); \r\n\r\nexport const getPageSze = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowwingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {\r\n    setCurrentPage,\r\n    requestUsers,\r\n    setUnfollow,\r\n    setFollow\r\n} from \"../../Redux/Users-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {getCurrentPage, getFollowwingInProgress, getPageSze, getIsFetching, getTotalUserCount, getUsers} from '../../Redux/selectors/usersSelector';\r\n\r\nclass UsersContainer extends React.Component {  \r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    };\r\n\r\n    onPageCganged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    };\r\n\r\n    render = () => {\r\n        return <>\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageCganged={this.onPageCganged}\r\n                    users={this.props.users}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    setUnfollow={this.props.setUnfollow} \r\n                    setFollow={this.props.setFollow} \r\n                    isFetching={this.props.isFetching} />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSze(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowwingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {  //через конект происходит общение со стором  \r\n        setCurrentPage, //а так как ключ и значение совпадают пишем только ключ\r\n        requestUsers,\r\n        setUnfollow,\r\n        setFollow\r\n    })\r\n)(UsersContainer);\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nimport usPhoto from '../../assets/images/userPhoto.png';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT3CrciMd3yJ0aqA9es5BRa66A6Hja2HmXcBA&usqp=CAU' />\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ? \r\n                <div className={s.userPhoto}><img src={!props.userPhoto ? usPhoto : props.userPhoto} />\r\n                    <button onClick={props.logout} >Logout</button>\r\n                </div> \r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'it-social/auth/SET_USER_DATA';\r\nconst SET_USER_PHOTO = 'it-social/auth/SET_USER_PHOTO';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    userPhoto: 0\r\n};\r\n\r\nconst authReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case SET_USER_PHOTO:\r\n            return {\r\n                ...state,\r\n                userPhoto: action.photo\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Action Creators\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n    return { type: SET_USER_DATA, data: { userId, login, email, isAuth } };\r\n}\r\nexport const setAuthUserPhoto = (photo) => {\r\n    return { type: SET_USER_PHOTO, photo };\r\n}\r\n\r\n//Thunks\r\n\r\nexport const setAuth = () => {\r\n    return (dispatch) => {\r\n        return authAPI.me().then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let { id, login, email } = response.data.data;\r\n                dispatch(setAuthUserData(id, login, email, true));\r\n                authAPI.authPhoto().then(response => {\r\n                    let users = response.data.items;\r\n                    let userPhoto;\r\n                    users.forEach((el, i) => {\r\n                        if (el.id == 12406) {\r\n                            userPhoto = el.photos.large;\r\n                        }\r\n                    });\r\n                    dispatch(setAuthUserPhoto(userPhoto));\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => { //Lesson 78\r\n    return async (dispatch) => {\r\n        let response = await authAPI.login(email, password, rememberMe);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuth());\r\n        } else {\r\n            dispatch(stopSubmit('login', { _error: 'Error in password or email' })); //Lesson 79\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {    //Lesson 78\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReduser;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../Redux/Auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    userId: state.auth.userId,\r\n    userPhoto: state.auth.userPhoto\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { reduxForm } from 'redux-form';\r\nimport { login, logout } from '../../Redux/Auth-reducer';\r\nimport { maxLengthCreator, requireField } from '../../utils/validators/validators';\r\nimport { createField, Input } from '../common/FormControls/formControls';\r\nimport style from './login.module.css';\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (        \r\n        <form onSubmit = {handleSubmit}>  \r\n            {createField('email', 'email', Input, [requireField, maxLength30])}\r\n            {createField('password', 'password', Input, [requireField, maxLength30], {type: \"password\"})}\r\n            {createField(null, 'rememberMe', 'input', null, {type: \"checkbox\"}, 'Remember me')}\r\n            { error && <div className={style.summeryError}>\r\n                {error}   \r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>      \r\n    )\r\n}           //Field Lesson 75\r\n//handleSubmit приходит из redux form и отменяет дефлтное поведение формы и не перезагружает\r\n// страницу когда сабмитим форму Lesson 75\r\n\r\nconst LoginReduxForm = reduxForm ({  \r\n    form: 'login'   //Имя формы, которое будет отображаться как объект в стэйте\r\n})(LoginForm); //сюда вставляем форму, которую хотим обернуть в ReduxForm \r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) =>{ //в onSubmit приходят все данные из формы\r\n        console.log(formData)\r\n        props.login(formData.email, formData.password, formData.rememberMe);    //Lesson 78\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return(\r\n        <div className={style.login}>\r\n            <h1 className={style.loginTitle}> Login </h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect( mapStateToProps, {login, logout} )(Login); //Lesson 78","import { setAuth } from \"./Auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'it-social/app/INITIALIZED_SUCCESS';\r\n \r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//Action creators\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });    //Lesson 80\r\n\r\n//Thunks creators\r\n\r\nexport const initializeApp = () => (dispatch) => { //Lesson 80\r\n    let promise = dispatch(setAuth());\r\n    promise.then( () => {\r\n        dispatch(initializedSuccess());\r\n    });  \r\n}\r\n\r\nexport default appReduser;","import React, { Suspense } from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport './components/Header/Header.module.css';\nimport './components/Navbar/Navbar.module.css';\nimport './components/Profile/Profile.module.css';\nimport {Route, withRouter} from 'react-router-dom';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/login/login';\nimport { initializeApp } from './Redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './components/common/preloader/preloader';\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DilogsContainer\")); //Lazy Load Lesson 94\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\")); \n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <Preloader />\n        } \n        return (\n            <div className=\"app-wraper\">\n                <HeaderContainer />\n                <Navbar />\n                <div className='app-wraper-content  '>\n                    <Route path='/Profile/:userId?'\n                        render={() => {\n                            return <Suspense fallback={<div>Loading...</div>} > {/* Suspense for Lazy Loading Lesson 94 */}\n                                <ProfileContainer />\n                            </Suspense>\n                        }}/>\n                    <Route path='/Dialogs'\n                        render={() => {\n                        return <Suspense fallback={<div>Loading...</div>} >\n                            <DialogsContainer />\n                        </Suspense> \n                        }}/>\n                    <Route path='/users'\n                        render={() => <UsersContainer />}/>\n                    <Route path='/login'\n                        render={() => <Login />}/>       \n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nexport default compose(\n    withRouter,\n    connect (mapStateToProps, {initializeApp})) (App);\n","\r\nlet initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'cristina',\r\n            src: 'data:image/jpeg;base64,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'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Vika',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTC4jRg1btnvqAdcADoMgIw6RyQIXMOpZw-kg&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Alena',\r\n            src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS_iEXq5Tq8suPbnZd51iuXk2m7Q64Zide5WA&usqp=CAU'\r\n        }\r\n    ]\r\n};\r\n\r\nconst sidebarReduser = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReduser;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport sidebarReduser from \"./Sidebar-Reduser\";\r\nimport profileReduser from \"./Profile-reducer\";\r\nimport dialogsReduser from \"./Dialogs-reduser\";\r\nimport usersReduser from \"./Users-reducer\";\r\nimport authReduser from \"./Auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";  \r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReduser from \"./app-reducer\";\r\n\r\nlet redusers = combineReducers({\r\n    profilePage: profileReduser,\r\n    massagesPage: dialogsReduser,\r\n    sidebar: sidebarReduser,\r\n    usersPage: usersReduser,\r\n    auth: authReduser,\r\n    app: appReduser,\r\n    form: formReducer   //redux-form Lesson 75\r\n});\r\n\r\nlet store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './Redux/redux-store';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>,\n    document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport s from './formControls.module.css';\r\n\r\nconst FormContol = ( {input, meta, child, ...props} ) => {    //Lesson 77\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '') }>\r\n            {props.children}\r\n            { hasError && <span> {meta.error} </span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {    //Lesson 77\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormContol {...props} > <textarea {...input} {...restProps} /> </FormContol>\r\n    )\r\n}\r\n\r\nexport const Input = ( props ) => {    //Lesson 77\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormContol {...props} > <input {...input} {...restProps} /> </FormContol>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validate, props={}, text='') => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name} component={ component } \r\n            validate={validate} {...props} />  {text}\r\n    </div>\r\n)\r\n    \r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Atip\",\"loginBlock\":\"Header_loginBlock__PGw69\",\"userPhoto\":\"Header_userPhoto__35m5N\"};","import React from 'react';\r\nimport style from \"../../common/preloader/Preloader.module.css\";\r\nimport preloader from \"../../../assets/images/loading.svg\";\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={style.preloader}><img src={preloader}/></div>\r\n}\r\n\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/userPhoto.54e9ec53.png\";","export const requireField = (value) => {\r\n    if(value) return undefined;\r\n    return 'this field require';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => { //Замыкание, смотреть урок 77\r\n    if(value.length > maxLength) return `Max length is ${maxLength} sibols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginTitle\":\"login_loginTitle__3Sn5A\",\"summeryError\":\"login_summeryError__3PRyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsItem\":\"Friends_friendsItem__3kUq3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"users_user__1aKXr\",\"userPhoto\":\"users_userPhoto__1hJ9r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"paginator_selectedPage__2KHpx\",\"pageSelectControl\":\"paginator_pageSelectControl__2sazg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControls_formControl__VFQas\",\"error\":\"formControls_error__3erMg\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {   //lesson 69 \r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Compnent) => { //эта функция создает принимает контэйнерную компоненту \r\n    //и оборачивает ее еще в две контэйнерные компоненты для редиректа\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Compnent {...this.props} />\r\n        }\r\n    } \r\n    let ConectAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent); //Leson 69\r\n    return ConectAuthRedirectComponent;\r\n}\r\n\r\n","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'it-social/profilePage/ADD-POST';\r\nconst SET_USER_PROFILE = 'it-social/profilePage/SET_USER_PROFILE';\r\nconst SET_AVATAR_ISFETCHING = 'it-social/profilePage/SET_AVATAR_ISFETCHING';\r\nconst SET_STATUS = 'it-social/profilePage/SET_STATUS';\r\nconst SET_PHOTO_SUCCES = 'it-social/profilePage/SET_PHOTO_SUCCES';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, massage: 'Hi how are you?', likeCount: 23},\r\n        {id: 2, massage: 'I love REACT', likeCount: 53},\r\n        {id: 2, massage: 'I love REACT', likeCount: 53}\r\n    ],\r\n    profile: null,\r\n    avatarIsFetching: true,\r\n    profileStatus: ''\r\n};\r\n\r\nconst profileReduser = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,   \r\n                posts: [...state.posts, {id: 5, massage: action.postValue, likeCount: 1}]  //вместо метода push добавляем вручную объект в массив\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,   \r\n                profileStatus: action.status\r\n            };    \r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile};\r\n        case SET_AVATAR_ISFETCHING:\r\n            return {...state, avatarIsFetching: action.isFetching};\r\n        case SET_PHOTO_SUCCES: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n    //Action Creators\r\n\r\nexport const addPostActionCreater = (postValue) =>  ({type: ADD_POST, postValue});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setAvatarIsFetching = (isFetching) => {\r\n    return {type: SET_AVATAR_ISFETCHING, isFetching};\r\n}\r\nexport const setStatus = (status) => {\r\n    return {type: SET_STATUS, status};\r\n}\r\nconst savePhotoSucess = (photos) => ({type: SET_PHOTO_SUCCES, photos});\r\n\r\n    //Thunks\r\n\r\nexport const getUserProfile = (usId) => {\r\n    return async (dispatch) => {\r\n        let userId = usId;\r\n        dispatch(setAvatarIsFetching(true)); \r\n        let response = await usersAPI.getProfile(userId)\r\n        dispatch(setAvatarIsFetching(false));\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return async (dispatch) => { \r\n        let response = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(response.data));\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => { \r\n        let response = await profileAPI.updateStatus(status)\r\n        if(response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    }\r\n}\r\n\r\nexport const saveAvaPhoto = (file) => {\r\n    return async (dispatch) => { \r\n        let response = await profileAPI.savePhoto(file)\r\n        if(response.data.resultCode === 0) {\r\n            dispatch(savePhotoSucess(response.data.data.photos));\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReduser;"],"sourceRoot":""}